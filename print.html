<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>AFS Tutorial</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A resource for learning AFS">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Welcome!</a></li><li class="chapter-item expanded "><a href="start/index.html"><strong aria-hidden="true">1.</strong> What is AFS?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="start/install.html"><strong aria-hidden="true">1.1.</strong> Install &amp; run SML</a></li><li class="chapter-item expanded "><a href="start/syntax.html"><strong aria-hidden="true">1.2.</strong> Syntax Cheatsheet</a></li><li class="chapter-item expanded "><a href="start/common.html"><strong aria-hidden="true">1.3.</strong> Common Tasks</a></li></ol></li><li class="chapter-item expanded "><a href="types/index.html"><strong aria-hidden="true">2.</strong> Setting up SSH</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="types/type.html"><strong aria-hidden="true">2.1.</strong> MacOS</a></li><li class="chapter-item expanded "><a href="types/sig.html"><strong aria-hidden="true">2.2.</strong> Linux</a></li><li class="chapter-item expanded "><a href="types/sig.html"><strong aria-hidden="true">2.3.</strong> Windows</a></li></ol></li><li class="chapter-item expanded "><a href="debugging/index.html"><strong aria-hidden="true">3.</strong> Using SSH</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="debugging/errors.html"><strong aria-hidden="true">3.1.</strong> Using SSH</a></li></ol></li><li class="chapter-item expanded "><a href="concepts/index.html"><strong aria-hidden="true">4.</strong> Exiting AFS</a></li><li class="chapter-item expanded "><a href="types/type.html"><strong aria-hidden="true">5.</strong> Basic Linux Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="types/file-paths.html"><strong aria-hidden="true">5.1.</strong> file paths</a></li><li class="chapter-item expanded "><a href="types/bool.html"><strong aria-hidden="true">5.2.</strong> cd</a></li><li class="chapter-item expanded "><a href="types/int.html"><strong aria-hidden="true">5.3.</strong> ls</a></li><li class="chapter-item expanded "><a href="types/real.html"><strong aria-hidden="true">5.4.</strong> rm</a></li><li class="chapter-item expanded "><a href="types/string.html"><strong aria-hidden="true">5.5.</strong> mv</a></li></ol></li><li class="chapter-item expanded "><a href="types/afs-file-transfer.html"><strong aria-hidden="true">6.</strong> AFS File Transfer</a></li><li class="chapter-item expanded "><a href="types/type.html"><strong aria-hidden="true">7.</strong> AFS Workflow Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="types/type.html"><strong aria-hidden="true">7.1.</strong> SUB - AFS Workflow Overview</a></li></ol></li><li class="chapter-item expanded "><a href="about.html">About</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AFS Tutorial</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome"><a class="header" href="#welcome">Welcome!</a></h1>
<p>Welcome to the CMU Andrew File System tutorial! The goal of this site is to provide a convenient
resource for learning about AFS. You'll find various guides and references about the AFS file system, as well as some examples and tutorials.
Click on the navigation links on the left to get started!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="afs-overview"><a class="header" href="#afs-overview">AFS Overview</a></h1>
<p>Imagine a file system similar to the one on your personal computer, except all students and faculty of Carnegie Mellon University can create, access and edit files on the system. That describes the Andrew FIle System in a nutshell - a global file system that allows access to files from Mac, Windows or Linux computers. </p>
<p>Unlike cloud storage, the data is stored locally at Carnegie Mellon University and accessed via trusted remote servers.</p>
<p>Here's a visual depction of what's going on:</p>
<figure class="aligncenter">
    <img src="start/../assets/76270_image1.png"
    width="600" class="center"/>
</figure><div style="break-before: page; page-break-before: always;"></div><h1 id="sml-syntax-cheatsheet"><a class="header" href="#sml-syntax-cheatsheet">SML Syntax Cheatsheet</a></h1>
<p><em>By David Sun, February 2021</em></p>
<h4 id="built-in-types"><a class="header" href="#built-in-types">Built-in Types</a></h4>
<p>Six of the built-in types commonly encountered:</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Type</th></tr></thead><tbody>
<tr><td align="center"><code>0</code></td><td align="center"><code>int</code></td></tr>
<tr><td align="center"><code>&quot;foo bar&quot;</code></td><td align="center"><code>string</code></td></tr>
<tr><td align="center"><code>#&quot; &quot;</code></td><td align="center"><code>char</code></td></tr>
<tr><td align="center"><code>true</code></td><td align="center"><code>bool</code></td></tr>
<tr><td align="center"><code>1.0</code></td><td align="center"><code>real</code></td></tr>
<tr><td align="center"><code>()</code></td><td align="center"><code>unit</code></td></tr>
</tbody></table>
<h4 id="structured-types"><a class="header" href="#structured-types">Structured Types</a></h4>
<p>Make tuples and lists using built-in types and themselves.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Type</th></tr></thead><tbody>
<tr><td align="center"><code>(15,150)</code></td><td align="center"><code>int * int</code></td></tr>
<tr><td align="center"><code>[1,2,3,4]</code></td><td align="center"><code>int list</code></td></tr>
<tr><td align="center"><code>[[&quot;foo&quot;,&quot;bar&quot;],[&quot;baz&quot;]]</code></td><td align="center"><code>string list list</code></td></tr>
<tr><td align="center"><code>((true,1),(false,0,()))</code></td><td align="center"><code>(bool * int) * (bool * int * unit)</code></td></tr>
<tr><td align="center"><code>[(0,1),(1,0)]</code></td><td align="center"><code>(int * int) list</code></td></tr>
<tr><td align="center"><code>([#&quot;a&quot;,#&quot;b&quot;],[3.14])</code></td><td align="center"><code>char list * real list</code></td></tr>
</tbody></table>
<p>Note: 1-tuples don't exist in Standard ML.</p>
<h4 id="operators"><a class="header" href="#operators">Operators</a></h4>
<p>Operators have different priority levels. Higher priority operations are performed before lower priority operations.
The operators <code>*</code>, <code>+</code>, and <code>-</code> work on both <code>int</code> and <code>real</code> types.</p>
<table><thead><tr><th align="center">Operator</th><th align="center">Meaning</th><th align="center">Priority</th><th align="center">Example Expression</th><th align="center">Evaluates To</th><th align="center">Notes</th></tr></thead><tbody>
<tr><td align="center"><code>*</code></td><td align="center">numeric multiplication</td><td align="center">7</td><td align="center"><code>8 * 3</code></td><td align="center"><code>24</code></td><td align="center"></td></tr>
<tr><td align="center"><code>/</code></td><td align="center"><code>real</code> division</td><td align="center">7</td><td align="center"><code>3.0 / 2.0</code></td><td align="center"><code>1.5</code></td><td align="center">operands must be <code>real</code></td></tr>
<tr><td align="center"><code>div</code></td><td align="center">integer divison</td><td align="center">7</td><td align="center"><code>3 div 2</code></td><td align="center"><code>1</code></td><td align="center">operands must be <code>int</code></td></tr>
<tr><td align="center"><code>mod</code></td><td align="center">&quot;modulo&quot;</td><td align="center">7</td><td align="center"><code>8 mod 3</code></td><td align="center"><code>2</code></td><td align="center">operands must be <code>int</code></td></tr>
<tr><td align="center"><code>+</code></td><td align="center">numeric addition</td><td align="center">6</td><td align="center"><code>3 + 4</code></td><td align="center"><code>7</code></td><td align="center"></td></tr>
<tr><td align="center"><code>-</code></td><td align="center">numeric subtraction</td><td align="center">6</td><td align="center"><code>3 - ~2</code></td><td align="center"><code>5</code></td><td align="center"><code>~</code> denotes negative numbers, e.g. <code>~5</code></td></tr>
<tr><td align="center"><code>^</code></td><td align="center">string combination</td><td align="center">6</td><td align="center"><code>&quot;foo&quot; ^ &quot;bar&quot;</code></td><td align="center"><code>&quot;foobar&quot;</code></td><td align="center"></td></tr>
<tr><td align="center"><code>::</code></td><td align="center">list construction (&quot;cons&quot;)</td><td align="center">5</td><td align="center"><code>1 :: [2,3,4]</code></td><td align="center"><code>[1,2,3,4]</code></td><td align="center">right-associative</td></tr>
<tr><td align="center"><code>@</code></td><td align="center">list combination (&quot;append&quot;)</td><td align="center">5</td><td align="center"><code>[1,2] @ [3,4]</code></td><td align="center"><code>[1,2,3,4]</code></td><td align="center">right-associative</td></tr>
</tbody></table>
<p>Except for <code>::</code> and <code>@</code>, the remaining built-in operators above are left-associative.
Left-associative operations of equal priority implicitly evaluate from left to right.
Right-associative operations of equal priority implicitly evaluate from right to left.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Implicit Interpretation</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>3 - ~2 + ~5</code></td><td align="center"><code>((3 - ~2) + ~5)</code></td><td align="center"><code>0</code></td></tr>
<tr><td align="center"><code>1 :: 2 :: 3 :: []</code></td><td align="center"><code>1 :: (2 :: (3 :: []))</code></td><td align="center"><code>[1,2,3]</code></td></tr>
<tr><td align="center"><code>1 :: [] @ 2 :: [] @ 3 :: []</code></td><td align="center"><code>1 :: ([] @ (2 :: ([] @ (3 :: []))))</code></td><td align="center"><code>[1,2,3]</code></td></tr>
</tbody></table>
<h4 id="boolean-operation"><a class="header" href="#boolean-operation">Boolean Operation</a></h4>
<p>There are three main ones: <code>andalso</code>, <code>orelse</code> and <code>not</code>.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th><th align="center">Notes</th></tr></thead><tbody>
<tr><td align="center"><code>false andalso true</code></td><td align="center"><code>false</code></td><td align="center"><code>andalso</code> short-circuits if left operand evaluates to <code>false</code></td></tr>
<tr><td align="center"><code>true orelse false</code></td><td align="center"><code>true</code></td><td align="center"><code>orelse</code> short-circuits if left operand evaluates to <code>true</code></td></tr>
<tr><td align="center"><code>not true</code></td><td align="center"><code>false</code></td><td align="center"></td></tr>
<tr><td align="center"><code>not false</code></td><td align="center"><code>true</code></td><td align="center"></td></tr>
</tbody></table>
<p>Note: See the page about the <code>bool</code> type <a href="start/../types/bool.html">here</a> for more information on short-circuiting behavior.</p>
<p>There are built-in equality operators: <code>=</code> and <code>&lt;&gt;</code>.</p>
<table><thead><tr><th align="center">Operator</th><th align="center">Meaning</th><th align="center">Priority</th><th align="center">Example Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>=</code></td><td align="center">&quot;equal to&quot;</td><td align="center">4</td><td align="center"><code>1+2 = 4-1</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>&lt;&gt;</code></td><td align="center">&quot;not equal to&quot;</td><td align="center">4</td><td align="center"><code>&quot;a&quot; &lt;&gt; &quot;b&quot;</code></td><td align="center"><code>true</code></td></tr>
</tbody></table>
<p>These two operate on <em>equality types</em>, which include the built-in types mentioned before — and the structured types that can be made from them — <strong>excluding</strong> <code>real</code> and function types.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>(true,true) = (true,true)</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>0 = 1 andalso 1 = 1</code></td><td align="center"><code>false</code></td></tr>
<tr><td align="center"><code>0 &lt;&gt; 0 orelse 1 &lt;&gt; 1</code></td><td align="center"><code>false</code></td></tr>
<tr><td align="center"><code>[1,2,3,4] = [1,2,3,4]</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>(1,2,&quot;a&quot;,&quot;b&quot;) = (1,2,&quot;a&quot;,&quot;b&quot;)</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>([1,2,3,4],([&quot;a&quot;,&quot;b&quot;],[()])) = ([1,2,3,4],([&quot;a&quot;,&quot;b&quot;],[()]))</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>0.0 = 0.0</code></td><td align="center">N/A: Not Well Typed</td></tr>
</tbody></table>
<p>Note: See the page about the <code>real</code> type <a href="start/../types/real.html">here</a> for more information on why <code>0.0 = 0.0</code> is not allowed.</p>
<p>There are built-in comparison operators <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, and <code>&lt;=</code>.</p>
<table><thead><tr><th align="center">Operator</th><th align="center">Meaning</th><th align="center">Priority</th><th align="center">Example Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>&gt;</code></td><td align="center">&quot;greater than&quot;</td><td align="center">4</td><td align="center"><code>&quot;ba&quot; &gt; &quot;ab&quot;</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>&lt;</code></td><td align="center">&quot;less than&quot;</td><td align="center">4</td><td align="center"><code>&quot;ab&quot; &lt; &quot;abc&quot;</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>&gt;=</code></td><td align="center">&quot;greater than or equal to&quot;</td><td align="center">4</td><td align="center"><code>#&quot;a&quot; &gt;= #&quot;A&quot;</code></td><td align="center"><code>true</code></td></tr>
<tr><td align="center"><code>&lt;=</code></td><td align="center">&quot;less than or equal to&quot;</td><td align="center">4</td><td align="center"><code>&quot;cab&quot; &lt;= &quot;cba&quot;</code></td><td align="center"><code>true</code></td></tr>
</tbody></table>
<p>These have limited use; they operate on <code>int</code>, <code>string</code>, <code>char</code>, <code>real</code>.</p>
<p>To build good habits, please practice using the built-in comparison functions <code>Int.compare</code>, <code>String.compare</code>, <code>Char.compare</code>, and <code>Real.compare</code> to compare their corresponding types instead of exclusively using these equality and comparison operators.</p>
<h4 id="comparison-functions"><a class="header" href="#comparison-functions">Comparison Functions</a></h4>
<p>There is an <code>order</code> type with three values: <code>LESS</code>, <code>EQUAL</code>, and <code>GREATER</code>.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Type</th></tr></thead><tbody>
<tr><td align="center"><code>LESS</code></td><td align="center"><code>order</code></td></tr>
<tr><td align="center"><code>EQUAL</code></td><td align="center"><code>order</code></td></tr>
<tr><td align="center"><code>GREATER</code></td><td align="center"><code>order</code></td></tr>
<tr><td align="center"><code>Int.compare</code></td><td align="center"><code>int * int -&gt; order</code></td></tr>
<tr><td align="center"><code>String.compare</code></td><td align="center"><code>string * string -&gt; order</code></td></tr>
<tr><td align="center"><code>Real.compare</code></td><td align="center"><code>real * real -&gt; order</code></td></tr>
</tbody></table>
<p>Example use:</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>Int.compare (~1,0)</code></td><td align="center"><code>LESS</code></td></tr>
<tr><td align="center"><code>Int.compare (0,0)</code></td><td align="center"><code>EQUAL</code></td></tr>
<tr><td align="center"><code>Int.compare (1,0)</code></td><td align="center"><code>GREATER</code></td></tr>
<tr><td align="center"><code>String.compare (&quot;abc&quot;,&quot;bac&quot;)</code></td><td align="center"><code>LESS</code></td></tr>
<tr><td align="center"><code>String.compare (&quot;cba&quot;,&quot;cb&quot;)</code></td><td align="center"><code>GREATER</code></td></tr>
<tr><td align="center"><code>Real.compare (0.0,0.0)</code></td><td align="center"><code>EQUAL</code></td></tr>
</tbody></table>
<p>Sometimes you want to compare data that is not of basic built-in types, e.g. when sorting lists of tuples. The built-in comparison operators by themselves will not work, but using the <code>order</code> type allows you to write a comparison function (perhaps using other comparison functions) that defines your own order over that data.</p>
<h4 id="comments"><a class="header" href="#comments">Comments</a></h4>
<p>Comments are denoted using <code>(* *)</code>.</p>
<pre><code class="language-sml">(* This is a comment. *)

(* This is another comment.
   Comments can span multiple lines!
 *)

(* This is (* a comment within *) a comment. *)
</code></pre>
<h4 id="value-binding"><a class="header" href="#value-binding">Value Binding</a></h4>
<p>Use the <code>val</code> keyword to create variables. It binds values to identifiers (variable names).</p>
<pre><code class="language-sml">val x : int = 5
val (a,b) : int * int = (1,2)
val L : int list = [3,4]
</code></pre>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>x</code></td><td align="center"><code>5</code></td></tr>
<tr><td align="center"><code>a</code></td><td align="center"><code>1</code></td></tr>
<tr><td align="center"><code>b</code></td><td align="center"><code>2</code></td></tr>
<tr><td align="center"><code>3 * x</code></td><td align="center"><code>15</code></td></tr>
<tr><td align="center"><code>2 * x * (5 + 2 * x)</code></td><td align="center"><code>150</code></td></tr>
<tr><td align="center"><code>a * x + b</code></td><td align="center"><code>7</code></td></tr>
<tr><td align="center"><code>a :: b :: L</code></td><td align="center"><code>[1,2,3,4]</code></td></tr>
</tbody></table>
<h4 id="let-expressions"><a class="header" href="#let-expressions">Let-Expressions</a></h4>
<p>Create local bindings (local variables) to compute a <code>let</code>-expression.
Place declarations and bindings between the <code>let</code>-<code>in</code>; the <code>let</code>-expression between the <code>in</code>-<code>end</code>.
Can be nested.
The scope of the <code>let</code>-<code>in</code> declaration is that <code>let</code>-expression's expression.</p>
<head>
<style>
<p>table {
border-collapse: collapse;
width: 100%;
}</p>
<p>th {
background-color: #cccccc;
}</p>
<p>td {
border: 1px solid #dddddd;
}</p>
</style>
</head>
<table>
<tr>
<th> Expression </th>
<th> Evaluates To </th>
</tr>
<tr>
<td>
<pre><code class="language-sml">let
  val x : int = 25
  val x : int = x + 25 (* Shadows the previous x binding *)
  val y : int = x + 50
in
  x + y
end
</code></pre>
</td>
<td>
<pre><code class="language-sml">150
</code></pre>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">let
  val x : int = 25
in
  let
    val x : int = x + 25 (* Shadows the previous x binding *)
  in
    let
      val y : int = x + 50
    in
      x + y
    end
  end
end
</code></pre>
</td>
<td>
<pre><code class="language-sml">150
</code></pre>
</td>
</tr>
</table>
<h4 id="lambda-expressions"><a class="header" href="#lambda-expressions">Lambda Expressions</a></h4>
<p>Write lambda expressions using the <code>fn</code> keyword — often verbalized as <strong>&quot;lambda&quot;</strong>.
A lambda expression is of the form: <code>fn</code>, pattern, <code>=&gt;</code>, expression.
The lambda expression itself is a value <a href="start/../assets/easteregg.jpg">—</a> a value of function type.
The <code>=&gt;</code> in lambda expressions correspond to the <code>-&gt;</code> in their types.
The <code>-&gt;</code> arrows are right-associative infix type constructors denoting function types.
Apply lambda expressions via prefix application — before the immediate operand.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th><th align="center">Type</th></tr></thead><tbody>
<tr><td align="center"><code>(fn (x : int,y : int) =&gt; x + y)</code></td><td align="center"><code>(fn (x : int,y : int) =&gt; x + y)</code></td><td align="center"><code>int * int -&gt; int</code></td></tr>
<tr><td align="center"><code>(3,4)</code></td><td align="center"><code>(3,4)</code></td><td align="center"><code>int * int</code></td></tr>
<tr><td align="center"><code>(fn (x : int,y : int) =&gt; x + y) (3,4)</code></td><td align="center"><code>7</code></td><td align="center"><code>int</code></td></tr>
</tbody></table>
<h4 id="function-binding"><a class="header" href="#function-binding">Function Binding</a></h4>
<p>Using a lambda expression more than once requires retyping it. We can give it a name instead.
The <code>val</code> and <code>fun</code> keywords bind a lambda expression to an identifier, creating a <em>named function</em>.
Take note that the <code>=</code> for binding differs from the <code>=&gt;</code> reserved word.</p>
<pre><code class="language-sml">(* add : int * int -&gt; int *)
val add : int * int -&gt; int = fn (x,y) =&gt; x + y

(* add : int * int -&gt; int *)
fun add (x : int,y : int) : int = x + y
</code></pre>
<p>Both function bindings for <code>add</code> above have the same value:
<code>(fn (x,y) =&gt; x + y) : int * int -&gt; int</code>.</p>
<p>A named function can be thought of as a lambda expression that has been &quot;identified&quot;.
The bindings to <code>add</code> identify (or name) an otherwise anonymous function.
Its value is the lambda expression it binds.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Value</th><th align="center">Type</th></tr></thead><tbody>
<tr><td align="center"><code>add</code></td><td align="center"><code>(fn (x,y) =&gt; x + y)</code></td><td align="center"><code>int * int -&gt; int</code></td></tr>
<tr><td align="center"><code>(fn (x,y) =&gt; x + y)</code></td><td align="center"><code>(fn (x,y) =&gt; x + y)</code></td><td align="center"><code>int * int -&gt; int</code></td></tr>
<tr><td align="center"><code>add (3,4)</code></td><td align="center"><code>7</code></td><td align="center"><code>int</code></td></tr>
<tr><td align="center"><code>(fn (x,y) =&gt; x + y) (3,4)</code></td><td align="center"><code>7</code></td><td align="center"><code>int</code></td></tr>
</tbody></table>
<h4 id="patterns-and-case-expressions"><a class="header" href="#patterns-and-case-expressions">Patterns and Case Expressions</a></h4>
<p>Patterns are present in every lambda expression, <code>case</code> expression, <code>val</code>, and <code>fun</code> binding.
Every <code>fn</code> clause, <code>case</code> clause, and <code>fun</code> clause contains a pattern with a corresponding expression.
A clause is of the form: pattern, <code>=&gt;</code>, expression. Clauses are delimited by pipes <code>|</code>.</p>
<table>
<tr>
<th> Expression </th>
<th> Example Clause </th>
<th> Clause Pattern </th>
<th> Clause Expression </th>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn (x,y) =&gt; x + y)
</code></pre>
</td>
<td>
<p><code>(x,y) =&gt; x + y</code></p>
</td>
<td>
<p><code>(x,y)</code></p>
</td>
<td>
<p><code>x + y</code></p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn true  =&gt; 1 
  | false =&gt; 0)
</code></pre>
</td>
<td>
<p><code>true =&gt; 1</code></p>
</td>
<td>
<p><code>true</code></p>
</td>
<td>
<p><code>1</code></p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn 0 =&gt; true 
  | _ =&gt; false)
</code></pre>
</td>
<td>
<p><code>_ =&gt; false</code></p>
</td>
<td>
<p><code>_</code></p>
</td>
<td>
<p><code>false</code></p>
</td>
</tr>
</table>
<p>Lambda expressions and <code>case</code> expressions have the same clause syntax.
The clausal <em>patterns</em> must be able to match to the type of the expression being cased on.
The clausal <em>expressions</em> must all have the same type (which may be different from that of the expression cased on).</p>
<table>
<tr>
<th> Expression </th>
<th> Example Clause </th>
<th> Clause Pattern </th>
<th> Clause Expression </th>
</tr>
<tr>
<td>
<pre><code class="language-sml">(case () of 
      _ =&gt; ())
</code></pre>
</td>
<td>
<p><code>_ =&gt; ()</code></p>
</td>
<td>
<p><code>_</code></p>
</td>
<td>
<p><code>()</code></p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(case #&quot;A&quot; &lt; #&quot;a&quot; of 
      true  =&gt; &quot;:)&quot; 
    | false =&gt; &quot;:(&quot;)
</code></pre>
</td>
<td>
<p><code>true =&gt; &quot;:)&quot;</code></p>
</td>
<td>
<p><code>true</code></p>
</td>
<td>
<p><code>&quot;:)&quot;</code></p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(case Int.compare (1,0) of 
      LESS    =&gt; false 
    | EQUAL   =&gt; false 
    | GREATER =&gt; true)
</code></pre>
</td>
<td>
<p><code>GREATER =&gt; true</code></p>
</td>
<td>
<p><code>GREATER</code></p>
</td>
<td>
<p><code>true</code></p>
</td>
</tr>
</table>
<p>The wildcard pattern <code>_</code> will match to any type, but create no bindings (ignore it).</p>
<table><thead><tr><th align="right">Candidate</th><th align="left">Valid Pattern?</th></tr></thead><tbody>
<tr><td align="right"><code>()</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>0</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>&quot;:)&quot;</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>true</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>EQUAL</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>3 + 4</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>&quot;:&quot; ^ &quot;)&quot;</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>3 &lt; 4</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>Int.compare (0,0)</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>Int.compare</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>0.0</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>(fn x =&gt; x)</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>x</code></td><td align="left">Yes</td></tr>
<tr><td align="right">any variable name that is not a reserved word</td><td align="left">Yes</td></tr>
<tr><td align="right"><code>_</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>(0,1)</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>(x,y)</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>(_,_)</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>(x,x)</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>[]</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>[x]</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>[[[]]]</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>([],[])</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>[] @ []</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>[x] @ xs</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>L @ R</code></td><td align="left">No</td></tr>
<tr><td align="right"><code>x::xs</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>x::y::xs</code></td><td align="left">Yes</td></tr>
<tr><td align="right"><code>_::_</code></td><td align="left">Yes</td></tr>
</tbody></table>
<p>A pattern that accounts for every possible value of the type it matches to is said to perform an exhaustive match. The match is nonexhaustive if and only if a possible value of that pattern's type is missed.</p>
<table>
<tr>
<th> Expression </th>
<th> Pattern Type </th>
<th> Exhaustive Match? </th>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn () =&gt; ())
</code></pre>
</td>
<td>
<p><code>unit</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn true =&gt; 1)
</code></pre>
</td>
<td>
<p><code>bool</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn true  =&gt; 1 
  | false =&gt; 0)
</code></pre>
</td>
<td>
<p><code>bool</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn LESS =&gt; ~1)
</code></pre>
</td>
<td>
<p><code>order</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn LESS  =&gt; ~1 
  | EQUAL =&gt; 0)
</code></pre>
</td>
<td>
<p><code>order</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn LESS    =&gt; ~1 
  | EQUAL   =&gt; 0 
  | GREATER =&gt; 1)
</code></pre>
</td>
<td>
<p><code>order</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn 0 =&gt; true)
</code></pre>
</td>
<td>
<p><code>int</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn 0 =&gt; true 
  | _ =&gt; false)
</code></pre>
</td>
<td>
<p><code>int</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn x::_ =&gt; x + 1)
</code></pre>
</td>
<td>
<p><code>int list</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn [] =&gt; 0 
  | x::_ =&gt; x + 1)
</code></pre>
</td>
<td>
<p><code>int list</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn (0,b) =&gt; true andalso b)
</code></pre>
</td>
<td>
<p><code>int * bool</code></p>
</td>
<td>
<p>No</p>
</td>
</tr>
<tr>
<td>
<pre><code class="language-sml">(fn (0,b) =&gt; true andalso b 
  | (n,_) =&gt; false)
</code></pre>
</td>
<td>
<p><code>int * bool</code></p>
</td>
<td>
<p>Yes</p>
</td>
</tr>
</table>
<p>Using a wildcard for the first clause's <em>entire</em> pattern produces an exhaustive match.</p>
<h4 id="recursive-function-binding"><a class="header" href="#recursive-function-binding">Recursive Function Binding</a></h4>
<p>The <code>rec</code> reserved word enables a lambda expression to self-reference within its body.
The <code>fun</code> reserved word allows self-reference by default.
The clause patterns and expressions in <code>fun</code> clauses are separated by <code>=</code> instead of <code>=&gt;</code>.</p>
<pre><code class="language-sml">val rec length : int list -&gt; int = fn [] =&gt; 0 | _::xs =&gt; 1 + length xs

fun length ([]    : int list) : int = 0
  | length (_::xs : int list) : int = 1 + length xs
</code></pre>
<p>As before, <em>both</em> <code>length</code> bindings have the same value. Don't forget about the lambda!</p>
<table>
<tr>
<th> Expression </th>
<th> Value </th>
<th> Type </th>
</tr>
<tr>
<td>
<p><code>length</code></p>
</td>
<td>
<pre><code class="language-sml">(fn [] =&gt; 0 | _::xs =&gt; 1 + length xs)
</code></pre>
</td>
<td>
<p><code>int list -&gt; int</code></p>
</td>
</tr>
<tr>
<td>
<p><code>length []</code></p>
</td>
<td>
<p><code>0</code></p>
</td>
<td>
<p><code>int</code></p>
</td>
</tr>
<tr>
<td>
<p><code>length [1,2,3,4]</code></p>
</td>
<td>
<p><code>4</code></p>
</td>
<td>
<p><code>int</code></p>
</td>
</tr>
</table>
<h4 id="conditional-expressions"><a class="header" href="#conditional-expressions">Conditional Expressions</a></h4>
<p>Require a condition that evaluates to <code>true</code> or <code>false</code>, after the <code>if</code>.
Two expressions of the same type — one for the <code>then</code>-branch, one for the <code>else</code>-branch.
Note that <code>if</code>-<code>then</code>-<code>else</code> expressions only evaluate one of its two branches — the one it takes.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>if 0 &lt;&gt; 1 then &quot;foo&quot; else &quot;bar&quot;</code></td><td align="center"><code>&quot;foo&quot;</code></td></tr>
<tr><td align="center"><code>if 0 = 1 then (if true then 1 else 2) else (if false then 3 else 4)</code></td><td align="center"><code>4</code></td></tr>
<tr><td align="center"><code>if true then 1 else (1 div 0)</code></td><td align="center"><code>1</code></td></tr>
<tr><td align="center"><code>if false then (1 div 0) else 0</code></td><td align="center"><code>0</code></td></tr>
</tbody></table>
<h4 id="op"><a class="header" href="#op">op</a></h4>
<p>The <code>op</code> keyword converts a binary infix operator to binary prefix operation. Priorities are kept the same as before.</p>
<table><thead><tr><th align="center">Expression</th><th align="center">Evaluates To</th></tr></thead><tbody>
<tr><td align="center"><code>(op *) (8,3)</code></td><td align="center"><code>24</code></td></tr>
<tr><td align="center"><code>(op +) (3,4)</code></td><td align="center"><code>7</code></td></tr>
<tr><td align="center"><code>(op ^) (&quot;foo&quot;,&quot;bar&quot;)</code></td><td align="center"><code>&quot;foobar&quot;</code></td></tr>
<tr><td align="center"><code>(op ::) (1,[2,3,4])</code></td><td align="center"><code>[1,2,3,4]</code></td></tr>
<tr><td align="center"><code>(op @) ([1,2],[3,4])</code></td><td align="center"><code>[1,2,3,4]</code></td></tr>
</tbody></table>
<h4 id="as"><a class="header" href="#as">as</a></h4>
<p>If convenient, we can use the <code>as</code> keyword between a variable and a structured pattern to reference a structured value both as a whole and by its constituents. The pattern to the left of <code>as</code> must be a variable. It can be nested. It is always part of a pattern.</p>
<pre><code class="language-sml">val tuple as (a,b) : int * int = (1,2)
</code></pre>
<table><thead><tr><th align="center">Variable Name</th><th align="center">Bound To</th></tr></thead><tbody>
<tr><td align="center"><code>a</code></td><td align="center"><code>1</code></td></tr>
<tr><td align="center"><code>b</code></td><td align="center"><code>2</code></td></tr>
<tr><td align="center"><code>tuple</code></td><td align="center"><code>(1,2)</code></td></tr>
</tbody></table>
<pre><code class="language-sml">val outer as (inner as (a,b),c) : (int * int) * int = ((1,2),3)
</code></pre>
<table><thead><tr><th align="center">Variable Name</th><th align="center">Bound To</th></tr></thead><tbody>
<tr><td align="center"><code>outer</code></td><td align="center"><code>((1,2),3)</code></td></tr>
<tr><td align="center"><code>inner</code></td><td align="center"><code>(1,2)</code></td></tr>
<tr><td align="center"><code>a</code></td><td align="center"><code>1</code></td></tr>
<tr><td align="center"><code>b</code></td><td align="center"><code>2</code></td></tr>
<tr><td align="center"><code>c</code></td><td align="center"><code>3</code></td></tr>
</tbody></table>
<pre><code class="language-sml">val L1 as x1::(L2 as x2::(L3 as x3::L4)) : int list = [1,2,3]
</code></pre>
<table><thead><tr><th align="center">Variable Name</th><th align="center">Bound To</th></tr></thead><tbody>
<tr><td align="center"><code>L1</code></td><td align="center"><code>[1,2,3]</code></td></tr>
<tr><td align="center"><code>x1</code></td><td align="center"><code>1</code></td></tr>
<tr><td align="center"><code>L2</code></td><td align="center"><code>[2,3]</code></td></tr>
<tr><td align="center"><code>x2</code></td><td align="center"><code>2</code></td></tr>
<tr><td align="center"><code>L3</code></td><td align="center"><code>[3]</code></td></tr>
<tr><td align="center"><code>x3</code></td><td align="center"><code>3</code></td></tr>
<tr><td align="center"><code>L4</code></td><td align="center"><code>[]</code></td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-tasks-in-sml"><a class="header" href="#common-tasks-in-sml">Common Tasks in SML</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="types--signatures"><a class="header" href="#types--signatures">Types &amp; Signatures</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-linux-commands"><a class="header" href="#basic-linux-commands">Basic Linux Commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="signatures"><a class="header" href="#signatures">Signatures</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="signatures-1"><a class="header" href="#signatures-1">Signatures</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debugging"><a class="header" href="#debugging">Debugging</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-errors"><a class="header" href="#common-errors">Common Errors</a></h1>
<p><em>By Eunice Chen, January 2021</em>. <em>Revised February 2021</em></p>
<p>In this section, we will explore some common mistakes and errors that may occur
when programming in Standard ML.</p>
<h2 id="casing-issues"><a class="header" href="#casing-issues">Casing Issues</a></h2>
<h3 id="match-nonexhaustive"><a class="header" href="#match-nonexhaustive">Match Nonexhaustive</a></h3>
<p>Though the code will still compile and run with this warning, it often indicates that the logic in your code does not cover all cases. It is always a good idea to check if you are missing some cases in your thinking, or if the warning comes from a scenario that will never happen according to the function specification. Even if there is a case that may not happen according to the function specification, it may be useful to raise an exception in the &quot;impossible&quot; case to get rid of this warning, because if your code somehow violates the specification and ends up in this case, then you can catch the error and debug it.</p>
<h3 id="nested-cases"><a class="header" href="#nested-cases">Nested Cases</a></h3>
<p>When you nest case expressions within case expressions, it's good to wrap your case statements with parentheses. SML will continue to look for patterns to case on, so using parentheses will let it know when to &quot;stop&quot;.</p>
<p>For example, the following code will compile without warnings:</p>
<pre><code>case 0 of
     0 =&gt; (case &quot;x&quot; of _ =&gt; 3)
   | _ =&gt; 5
</code></pre>
<p>but this code will have a match redundant error and a match nonexhaustive error:</p>
<pre><code>case 0 of
     0 =&gt; case &quot;x&quot; of _ =&gt; 3
   | _ =&gt; 5
</code></pre>
<p>Obviously, this example is very contrived, but adding parens may help in nested case expressions.</p>
<h2 id="associativity-issues"><a class="header" href="#associativity-issues">Associativity Issues</a></h2>
<p>Since function application is left associative, making sure you have correct parenthesization is very important. It is almost always a good idea to double check your parenthesization in your code, since it can cause very confusing bugs, but can be fixed with a simple check.</p>
<p>For example, the following code will not compile:</p>
<pre><code>fun f [] = 0
  | f x::xs = 1
</code></pre>
<p>This fails to compile because function application is left-associative, so the SML compiler thinks that <code>x</code> is the only argument to the function <code>f</code>, and does not know how to parse the extra <code>::xs</code>. A fix for this issue would just to put parens around the <code>x::xs</code>, like so:</p>
<pre><code>fun f [] = 0
  | f (x::xs) = 1
</code></pre>
<p>Similarly, if some expression is an argument to another function, it is usually good to put parens around that expression. For example, suppose we had some functions <code>f</code> and <code>g</code> of type <code>int -&gt; int</code>, and we would like to apply the function <code>g</code> to the value <code>f 1</code>. Then, if we wrote <code>g f 1</code>, this would not typecheck, since function application is left-associative (writing <code>g f 1</code> would be the same thing as writing <code>((g f) 1)</code>). To fix this, we would write this as <code>g (f 1)</code> to fix the associativity issues.</p>
<h2 id="equality-type-warnings-ie-a-vs-a"><a class="header" href="#equality-type-warnings-ie-a-vs-a">Equality Type Warnings (i.e. <code>''a</code> vs <code>'a</code>)</a></h2>
<p>Sometimes, code will fail to typecheck because it expects something of type <code>'a</code> but instead gets something of type <code>''a</code> instead. A plain type variable like <code>'a</code> can be substituted with any type, but something like type <code>''a</code> (with two apostrophes in front) can only be substituted with an <em>equality</em> type. An <em>equality</em> type is a type that can use operators like <code>=</code> and <code>&lt;&gt;</code> to compare their values (<code>int</code>, <code>string</code>, and <code>bool</code> are good examples of equality types). Thus, if your code has an <code>''a</code> instead of an <code>a</code>, it is likely that you are using <code>=</code> or <code>&lt;&gt;</code> to compare values.</p>
<p>For example, the following function has type <code>''a list * 'a -&gt; bool</code>:</p>
<pre><code>fun contains (x, []) = false
  | contains (x, y::ys) = x = y orelse contains (x, ys)
</code></pre>
<p>Because <code>x</code> and <code>y</code> are compared by <code>=</code> in the function, then any inputs into the <code>contains</code> function must consist of equality types, so the type is <code>''a list * ''a -&gt; bool</code>.</p>
<p>However, we might want a function that takes in an <code>'a list</code> instead because it is more general. We still need some way of comparing whether two elements are equal or not, so we will pass in an extra parameter to compare two elements. We can rewrite the function as follows:</p>
<pre><code>fun contains (cmp, x, []) = false
  | contains (cmp, x, y::ys) =
    case cmp (x, y) of
      EQUAL =&gt; true
    | _ =&gt; contains (cmp, x, ys)
</code></pre>
<p>The type of the function will now be <code>('a * 'a -&gt; order) * 'a list * 'a -&gt; bool</code>.</p>
<p>In general, it's preferable to use <code>case</code> expressions instead of <code>if-then-else</code> statements with <code>=</code> in the condition.</p>
<h2 id="t-type-errors"><a class="header" href="#t-type-errors">?.t Type Errors</a></h2>
<pre><code>errors.sml:9.7-10.18 Error: right-hand-side of clause does not agree with function result type [tycon mismatch]
  expression:  ?.t
  result type:  ?.t
</code></pre>
<p>Clearly, this is not a very helpful error message. The code that induces this
error is shown below.</p>
<pre><code class="language-sml">signature T =
sig
  type t val x : t
end

functor Foo (structure A : T
             structure B : T) =
struct
  fun bar (0 : int) = A.x
    | bar n = B.x
end
</code></pre>
<p>The reason for this error is because the compiler does not distinguish (in terms
of name) structures that are given as argument to the functor <code>Foo</code>. Both are
referred to by <code>?</code>. In other words, it is saying that, on the second line of
<code>bar</code>, it expected a value of type <code>A.t</code> to be returned, but received one of
type <code>B.t</code>, namely <code>B.x</code>. Since <code>A</code> and <code>B</code> do not really have names, however,
it just referred to either structure as <code>?</code>, causing the confusing error.</p>
<p>If you receive this error, check your structures to make sure that you are not
conflating types from different structures.</p>
<h2 id="re-declaring-datatypes"><a class="header" href="#re-declaring-datatypes">Re-declaring Datatypes</a></h2>
<p>Some datatypes are already present in the SML Basis Library, meaning that you do
not have to declare them, as they are already present at the top level.
Re-declaring datatypes anyways, however, can cause type issues that are somewhat
difficult to debug. Consider the following code:</p>
<pre><code class="language-sml">fun opt_wrap x = SOME x

datatype 'a option = NONE | SOME of 'a

fun wrap_again (x : int) : int option = opt_wrap x
</code></pre>
<p>Although it looks innocuous, we will run into the following type error:</p>
<pre><code>errors.sml:5.5-5.51 Error: right-hand-side of clause does not agree with function result type [tycon mismatch]
  expression:  int ?.Assembly.option
  result type:  int option
</code></pre>
<p>The reason for this is because the declaration of <code>'a option</code> on the third line
creates a new type <code>'a option</code> that &quot;shadows&quot; the basis' definition. This means
that on line 1, <code>SOME</code> is of the type of the original option, whereas the
function <code>wrap_again</code> is type-annotated to expect a value of the type of the
<em>new</em> option.</p>
<p>In general, re-declaring datatypes is a bad idea that will cause conflicts down
the road, as it makes your code incompatible with any other code expecting the
original datatype, such as autograders. Be sure to not re-declare datatypes that
already exist to avoid this issue.</p>
<h2 id="forgetting-a-bar"><a class="header" href="#forgetting-a-bar">Forgetting a Bar</a></h2>
<p>Recall that a bar <code>|</code> is required to delimit different clauses in a function
definition. For instance, take the following (incorrect) implementation of the
<code>fact</code> function:</p>
<pre><code class="language-sml">fun fact (0 : int) : int = 1
    fact n = n * fact (n - 1)
</code></pre>
<p>Compiling this will result in the error:</p>
<pre><code>errors.sml:2.24 Error: unbound variable or constructor: n
errors.sml:2.14 Error: unbound variable or constructor: n
errors.sml:2.10 Error: unbound variable or constructor: n
errors.sml:1.29-2.30 Error: operator is not a function [overload - bad instantiation]
  operator: 'Z[INT]
  in expression:
    1 fact
errors.sml:1.6-2.30 Error: right-hand-side of clause does not agree with function result type [tycon mismatch]
  expression:  bool
  result type:  int
  in declaration:
    fact =
      (fn 0 : int =&gt;
            (1 fact) &lt;errorvar&gt; = &lt;errorvar&gt; * fact (&lt;errorvar&gt; - 1): int)
</code></pre>
<p>If you see <code>unbound variable or constructor</code> errors where they don't make sense,
and should not be unbound, it may be the case that you are having a deeper
syntax issue!</p>
<h2 id="let-in-without-an-end"><a class="header" href="#let-in-without-an-end">Let in without an end</a></h2>
<p>Consider the following code snippet:</p>
<pre><code class="language-sml">fun foo x =
  let
    val y =
      let
        val z = 3
      in
  in
    4
  end
</code></pre>
<p>Compiling this will result in the error:</p>
<pre><code>errors.sml:6.7-6.9 Error: syntax error: replacing  IN with  SEMICOLON
errors.sml:11.1 Error: syntax error found at EOF

uncaught exception Compile [Compile: &quot;syntax error&quot;]
  raised at: ../compiler/Parse/main/smlfile.sml:19.24-19.46
             ../compiler/TopLevel/interact/evalloop.sml:45.54
             ../compiler/TopLevel/interact/evalloop.sml:306.20-306.23
</code></pre>
<p>due to the missing <code>end</code> at the end of the inner <code>let</code>. In general, an error
that says &quot;replacing&quot; is trying to signal that you have probably put an
unexpected form of syntax where it shouldn't be - look at precisely what is
missing to determine what the error is.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concepts"><a class="header" href="#concepts">Concepts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-linux-commands-1"><a class="header" href="#basic-linux-commands-1">Basic Linux Commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="file-paths"><a class="header" href="#file-paths">File Paths</a></h1>
<p>A file path is a way to specify the location of a file within a file system.</p>
<p>For example:</p>
<img src="types/assets/../../assets/filepaths.png" height="200" />
<p>If you are currently located in the <code>doc</code> directory, to get the file path to <code>code_style.doctree</code>, the desired filepath would be:</p>
<pre><code>./build/doctrees/development/code_style.doctree
</code></pre>
<h2 id="helpful-commands"><a class="header" href="#helpful-commands">Helpful commands</a></h2>
<p>Use <code>pwd</code> in your current directory to get your current file path.</p>
<p><code>.</code> specifies the current directory in your file path.</p>
<p><code>..</code> lets you 'go backwards' a directory in your file path. </p>
<p>On most operating systems, you can use your file navigator (i.e, File Explorer on Windows) to get the file path of a file. Typically you can right-click the file and there will be an option for 'more info' that will list the desired file path.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cd"><a class="header" href="#cd">cd</a></h1>
<p>You can use this command to around directories/folders in your filesystem.</p>
<p>To enter a directory, use:</p>
<pre><code>cd [directory name]
</code></pre>
<p>You can also cd into a directory using a file path:</p>
<pre><code>cd [file path to directory]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ls"><a class="header" href="#ls">ls</a></h1>
<p><code>ls</code> allows you to view what files are in your current directory.</p>
<p>To see what files are in your current directory, simply use:</p>
<pre><code>ls
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rm"><a class="header" href="#rm">rm</a></h1>
<p><code>rm</code> allows you to remove files and directories.</p>
<p>To remove a file, use:</p>
<pre><code>rm [file path]
</code></pre>
<p>To remove an entire directory's contents, use:</p>
<pre><code>rm -rf [directory path]
</code></pre>
<hr />
<p><strong>BE CAREFUL!</strong></p>
<p>rm -rf will remove <em>all</em> files and all sub directories in that directory.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="mv"><a class="header" href="#mv">mv</a></h1>
<p>You can use <code>mv</code> to move and rename files.</p>
<p>To move a file to another directory, use:</p>
<pre><code>mv [file path] [desired directory path]
</code></pre>
<p>To rename a file, from that file's directory use:</p>
<pre><code>mv [original file name] [new file name]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transferring-files"><a class="header" href="#transferring-files">Transferring Files</a></h1>
<p>To transfer files in between your local computer and AFS, you can use the <code>scp</code> command.</p>
<hr />
<p><strong>NOTE</strong></p>
<p><code>scp</code> commands must be executed on your local computer. This means that you will have to exit AFS before transferring files.</p>
<hr />
<br/>
<p>To transfer a file from AFS to your computer use:</p>
<pre><code>scp ANDREWID@unix.andrew.cmu.edu:[file path within AFS] .
</code></pre>
<p>To transfer a file from your computer to AFS use:</p>
<pre><code>scp [file path within your computer] ANDREWID@unix.andrew.cmu.edu:[desired file path within AFS]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-linux-commands-2"><a class="header" href="#basic-linux-commands-2">Basic Linux Commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-linux-commands-3"><a class="header" href="#basic-linux-commands-3">Basic Linux Commands</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="about"><a class="header" href="#about">About</a></h1>
<p>The AFS Tutorial is created by Roshan Ram, Grace Kang, and Shreya Manjunath, as part of 76-270, 
Writing for The Professions. We aim to build out a lightweight website, which helps students understand 
the barebones basics of how to use the Andrew File System, in a user-friendly manner. </p>
<p>References: We draw upon the structure created by 15-150's <a href="https://github.com/smlhelp/book">smlhelp.github.io</a>. </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
